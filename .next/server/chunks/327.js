exports.id=327,exports.ids=[327],exports.modules={8516:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});let s={AUTH_SECRET:process.env.AUTH_SECRET||"mock-auth-secret",DATABASE_URL:process.env.DATABASE_URL||"postgresql://mock:mock@localhost:5432/mock",NODE_ENV:"production",AWS_ACCESS_KEY_ID:process.env.AWS_ACCESS_KEY_ID||"mock-access-key",AWS_SECRET_ACCESS_KEY:process.env.AWS_SECRET_ACCESS_KEY||"mock-secret-key",AWS_REGION:process.env.AWS_REGION||"us-east-1",S3_BUCKET_NAME:process.env.S3_BUCKET_NAME||"mock-bucket",PROCESS_VIDEO_ENDPOINT:process.env.PROCESS_VIDEO_ENDPOINT||"https://mock-endpoint.com",PROCESS_VIDEO_ENDPOINT_AUTH:process.env.PROCESS_VIDEO_ENDPOINT_AUTH||"mock-auth",NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:"pk_test_dummy_key",STRIPE_SECRET_KEY:process.env.STRIPE_SECRET_KEY||"sk_test_mock",STRIPE_SMALL_CREDIT_PACK:process.env.STRIPE_SMALL_CREDIT_PACK||"price_mock",STRIPE_MEDIUM_CREDIT_PACK:process.env.STRIPE_MEDIUM_CREDIT_PACK||"price_mock",STRIPE_LARGE_CREDIT_PACK:process.env.STRIPE_LARGE_CREDIT_PACK||"price_mock",BASE_URL:process.env.BASE_URL||"http://localhost:3000",STRIPE_WEBHOOK_SECRET:process.env.STRIPE_WEBHOOK_SECRET||"whsec_mock"}},11853:(e,t,r)=>{Promise.resolve().then(r.bind(r,85207)),Promise.resolve().then(r.bind(r,64616))},12909:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var s=r(85663);async function a(e,t){return(0,s.UD)(e,t)}},13641:(e,t,r)=>{"use strict";r.d(t,{db:()=>o});var s=r(96330),a=r(8516);let n=globalThis,o=n.prisma??new s.PrismaClient({log:"development"===a._.NODE_ENV?["query","error","warn"]:["error"]});"production"!==a._.NODE_ENV&&(n.prisma=o)},16292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),a=r(57661);function n(){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-5 p-12",children:[(0,s.jsx)(a.A,{className:"text-muted-foreground h-10 w-10 animate-spin"}),(0,s.jsx)("span",{className:"ml-3 text-lg",children:"Loading dashboard..."})]})}},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>l});var s=r(60687);r(43210);var a=r(4780);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},48482:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/src/components/ui/sonner.tsx","Toaster")},55565:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/src/components/nav-header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/src/components/nav-header.tsx","default")},63144:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>m});var a=r(37413),n=r(39916),o=r(55565),i=r(48482),d=r(82310),c=r(13641),l=r(61120),u=e([d]);d=(u.then?(await u)():u)[0];let p=(0,l.cache)(async e=>await c.db.user.findUniqueOrThrow({where:{id:e},select:{credits:!0,email:!0}}));async function m({children:e}){let t=await (0,d.j2)();t?.user?.id||(0,n.redirect)("/login");let r=await p(t.user.id);return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(o.default,{credits:r.credits,email:r.email}),(0,a.jsx)("main",{className:"container mx-auto flex-1 py-6",children:e}),(0,a.jsx)(i.Toaster,{})]})}s()}catch(e){s(e)}})},64616:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>o});var s=r(60687),a=r(10218),n=r(52581);let o=({...e})=>{let{theme:t="system"}=(0,a.D)();return(0,s.jsx)(n.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},71533:(e,t,r)=>{Promise.resolve().then(r.bind(r,55565)),Promise.resolve().then(r.bind(r,48482))},81194:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{f:()=>c});var a=r(16467),n=r(42759),o=r(12909),i=r(13641),d=e([a]);a=(d.then?(await d)():d)[0];let c={providers:[(0,n.A)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=e.email,r=e.password,s=await i.db.user.findUnique({where:{email:t}});return s&&await (0,o.C)(r,s.password)?s:null}})],session:{strategy:"jwt"},adapter:(0,a.y)(i.db),callbacks:{session:({session:e,token:t})=>({...e,user:{...e.user,id:t.sub}}),jwt:({token:e,user:t})=>(t&&(e.id=t.id),e)}};s()}catch(e){s(e)}})},82310:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Y9:()=>c,j2:()=>m});var a=r(19875),n=r(61120),o=r(81194),i=e([o]);o=(i.then?(await i)():i)[0];let{auth:d,handlers:c,signIn:l,signOut:u}=(0,a.Ay)(o.f),m=(0,n.cache)(d);s()}catch(e){s(e)}})},85207:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var s=r(60687),a=r(85814),n=r.n(a),o=r(96834),i=r(29523),d=r(43210),c=r(40591),l=r(4780);function u({...e}){return(0,s.jsx)(c.bL,{"data-slot":"dropdown-menu",...e})}function m({...e}){return(0,s.jsx)(c.l9,{"data-slot":"dropdown-menu-trigger",...e})}function p({className:e,sideOffset:t=4,...r}){return(0,s.jsx)(c.ZL,{children:(0,s.jsx)(c.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function f({className:e,inset:t,variant:r="default",...a}){return(0,s.jsx)(c.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function v({className:e,inset:t,...r}){return(0,s.jsx)(c.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,l.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function x({className:e,...t}){return(0,s.jsx)(c.wv,{"data-slot":"dropdown-menu-separator",className:(0,l.cn)("bg-border -mx-1 my-1 h-px",e),...t})}var h=r(11096);function E({className:e,...t}){return(0,s.jsx)(h.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function b({className:e,...t}){return(0,s.jsx)(h.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var _=r(4165),g=r(16189),j=r(44716);let S=({credits:e,email:t})=>{let{prefetchRoute:r}=function(){let e=(0,g.useRouter)(),[t,r]=(0,d.useTransition)();return{navigateTo:t=>{r(()=>{e.push(t)})},prefetchRoute:t=>{e.prefetch(t)},isPending:t,router:e}}(),{openLogout:a}=(0,j.X)();return(0,d.useEffect)(()=>{r("/dashboard/billing")},[r]),(0,s.jsx)("header",{className:"bg-background sticky top-0 z-10 flex justify-center border-b",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4 py-2",children:[(0,s.jsx)(_.default,{href:"/dashboard"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(o.E,{variant:"secondary",className:"h-8 px-3 py-1.5 text-xs font-medium",children:[e," credits"]}),(0,s.jsx)(i.$,{asChild:!0,className:"btn-secondary btn-sm",children:(0,s.jsx)(n(),{href:"/dashboard/billing",prefetch:!0,children:"Buy more"})})]}),(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(i.$,{className:"btn-ghost btn-icon",children:(0,s.jsx)(E,{children:(0,s.jsx)(b,{children:t.charAt(0)})})})}),(0,s.jsxs)(p,{align:"end",children:[(0,s.jsx)(v,{children:(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:t})}),(0,s.jsx)(x,{}),(0,s.jsx)(f,{asChild:!0,children:(0,s.jsx)(n(),{href:"/dashboard/billing",prefetch:!0,children:"Billing"})}),(0,s.jsx)(x,{}),(0,s.jsx)(f,{onClick:a,className:"text-destructive cursor-pointer",children:"Sign out"})]})]})]})]})})}},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var s=r(60687);r(43210);var a=r(8730),n=r(24224),o=r(4780);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:r=!1,...n}){let d=r?a.Slot:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,o.cn)(i({variant:t}),e),...n})}}};